<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <script src="/js/theme-toggle.js"></script>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Welcome to QuickDrop</title>
    <link href="/css/tailwind.css" rel="stylesheet">
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f8f9fa;
        }

        .welcome-card {
            max-width: 500px;
            width: 100%;
        }
    </style>
</head>
<body>
<div class="welcome-card bg-white dark:bg-gray-900 rounded-2xl shadow-lg">
    <div class="bg-brand-light dark:bg-brand-dark text-white text-center rounded-t-2xl p-4">
        <h1 class="font-semibold tracking-tight">Welcome to QuickDrop</h1>
    </div>
    <div class="p-6 md:p-8 space-y-4">
        <p class="text-center">
            Thank you for setting up QuickDrop! Before you get started, please set an admin password for the dashboard.
        </p>
        <form id="setupForm" method="post" th:action="@{/admin/setup}">
            <div class="mb-4">
                <label class="block font-semibold tracking-tight mb-1" for="adminPassword">Admin Password</label>
                <input class="w-full p-2 border rounded-lg bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-brand-light dark:focus:ring-brand-dark" id="adminPassword" minlength="8" name="adminPassword" required
                       type="password">
            </div>
            <div class="mb-4">
                <label class="block font-semibold tracking-tight mb-1" for="confirmPassword">Confirm Password</label>
                <input class="w-full p-2 border rounded-lg bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-brand-light dark:focus:ring-brand-dark" id="confirmPassword" minlength="8" name="confirmPassword" required
                       type="password">
            </div>
            <div class="text-red-600 mb-4" id="error-message" style="display: none;">Passwords do not match.</div>
            <button class="w-full bg-brand-light dark:bg-brand-dark text-white py-2 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-brand-light dark:focus:ring-brand-dark" type="submit">Set Admin Password</button>
        </form>
    </div>
</div>
<script>
    document.getElementById('setupForm').addEventListener('submit', function (e) {
        const password = document.getElementById('adminPassword').value;
        const confirmPassword = document.getElementById('confirmPassword').value;

        if (password !== confirmPassword) {
            e.preventDefault();
            document.getElementById('error-message').style.display = 'block';
        }
    });
</script>
</body>
</html>